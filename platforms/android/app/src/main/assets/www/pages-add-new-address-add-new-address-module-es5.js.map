{"version":3,"sources":["webpack:///src/app/pages/add-new-address/add-new-address.page.html","webpack:///src/app/pages/add-new-address/add-new-address.page.scss","webpack:///src/app/pages/add-new-address/add-new-address.page.ts","webpack:///src/app/pages/add-new-address/add-new-address.module.ts","webpack:///src/app/pages/add-new-address/add-new-address-routing.module.ts"],"names":["AddNewAddressPage","platform","androidPermissions","diagnostic","geolocation","navCtrl","api","util","route","house","landmark","title","queryParams","subscribe","data","console","log","from","info","JSON","parse","address","id","lat","lng","loadmap","mapEle","getLocation","ready","then","is","checkPermission","PERMISSION","ACCESS_FINE_LOCATION","result","hasPermission","err","requestPermission","grantRequest","getCurrentPosition","maximumAge","timeout","enableHighAccuracy","resp","coords","latitude","longitude","getAddress","isLocationEnabled","switchToLocationSettings","error","mapElement","location","google","maps","LatLng","style","featureType","elementType","stylers","saturation","mapOptions","zoom","scaleControl","streetViewControl","zoomControl","overviewMapControl","center","mapTypeControl","mapTypeControlOptions","mapTypeIds","MapTypeId","ROADMAP","map","Map","nativeElement","mapType","StyledMapType","name","mapTypes","set","setMapTypeId","addMarker","geocoder","Geocoder","geocode","results","status","formatted_address","icon","url","scaledSize","Size","marker","Marker","position","draggable","animation","Animation","DROP","event","addListener","getDragAddress","localStorage","setItem","back","errorToast","translate","show","checkAuth","makeid","param","uid","addNewAddress","hide","showToast","navigateRoot","getItem","updateAddress","selector","template","AddNewAddressPageModule","imports","declarations","routes","path","component","AddNewAddressPageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-add-new-address-add-new-address-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button mode=\\\"md\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{'Add new address' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"div_map\\\" #map></div>\\n  <div class=\\\"informations\\\">\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{'LOCATIONS' | translate}}</ion-label>\\n      <ion-input [(ngModel)]=\\\"address\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{'HOUSE / FLAT NO' | translate}}</ion-label>\\n      <ion-input [(ngModel)]=\\\"house\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">{{'LANDMARK' | translate}}</ion-label>\\n      <ion-input [(ngModel)]=\\\"landmark\\\"></ion-input>\\n    </ion-item>\\n    <ion-radio-group [(ngModel)]=\\\"title\\\">\\n      <ion-label class=\\\"title\\\">\\n        {{'SAVE AS' | translate}}\\n      </ion-label>\\n      <ion-item style=\\\"margin-top: 20px;\\\">\\n        <ion-icon name=\\\"home-outline\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>{{'HOME' | translate}}</ion-label>\\n        <ion-radio value=\\\"home\\\"></ion-radio>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon name=\\\"briefcase-outline\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>{{'WORK' | translate}}</ion-label>\\n        <ion-radio value=\\\"work\\\"></ion-radio>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon name=\\\"navigate-outline\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>{{'OTHER' | translate}}</ion-label>\\n        <ion-radio value=\\\"other\\\"></ion-radio>\\n      </ion-item>\\n    </ion-radio-group>\\n    <ion-button *ngIf=\\\"from ==='new'\\\" (click)=\\\"addAddress()\\\" expand=\\\"block\\\">\\n      {{'Add' | translate}}\\n    </ion-button>\\n\\n    <ion-button *ngIf=\\\"from ==='edit'\\\" (click)=\\\"updateAddress()\\\" expand=\\\"block\\\">\\n      {{'Update' | translate}}\\n    </ion-button>\\n  </div>\\n</ion-content>\";","export default \".div_map {\\n  height: 50vh;\\n  width: 100%;\\n  border: 1px solid gray;\\n}\\n\\n.informations {\\n  padding: 10px;\\n}\\n\\n.informations .title {\\n  font-weight: bold;\\n  padding: 10px;\\n  margin: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRkLW5ldy1hZGRyZXNzL2FkZC1uZXctYWRkcmVzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxhQUFBO0FBRUo7O0FBREk7RUFDSSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FBR1IiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hZGQtbmV3LWFkZHJlc3MvYWRkLW5ldy1hZGRyZXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXZfbWFwe1xuICAgIGhlaWdodDogNTB2aDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xufVxuLmluZm9ybWF0aW9uc3tcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIC50aXRsZXtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIG1hcmdpbjogMTBweDtcbiAgICB9XG59XG4iXX0= */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx';\nimport { Geolocation, GeolocationOptions, Geoposition, PositionError } from '@ionic-native/geolocation/ngx';\nimport { NavController } from '@ionic/angular';\nimport { ApisService } from 'src/app/services/apis.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ActivatedRoute } from '@angular/router';\ndeclare var google;\n\n@Component({\n  selector: 'app-add-new-address',\n  templateUrl: './add-new-address.page.html',\n  styleUrls: ['./add-new-address.page.scss'],\n})\nexport class AddNewAddressPage implements OnInit {\n  @ViewChild('map', { static: true }) mapEle: ElementRef;\n  map: any;\n  marker: any;\n  lat: any;\n  lng: any;\n  address: any;\n  house: any = '';\n  landmark: any = '';\n  title: any = 'home';\n  id: any;\n  from: any;\n  constructor(\n    private platform: Platform,\n    private androidPermissions: AndroidPermissions,\n    private diagnostic: Diagnostic,\n    public geolocation: Geolocation,\n    private navCtrl: NavController,\n    private api: ApisService,\n    private util: UtilService,\n    private route: ActivatedRoute\n  ) {\n    this.route.queryParams.subscribe(data => {\n      console.log(data);\n      if (data && data.from) {\n        this.from = 'edit';\n        const info = JSON.parse(data.data);\n        console.log('da===>', info);\n        this.address = info.address;\n        this.house = info.house;\n        this.id = info.id;\n        this.landmark = info.landmark;\n        this.lat = info.lat;\n        this.lng = info.lng;\n        this.loadmap(this.lat, this.lng, this.mapEle);\n      } else {\n        this.from = 'new';\n        this.getLocation();\n      }\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  getLocation() {\n    this.platform.ready().then(() => {\n      if (this.platform.is('android')) {\n        this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION).then(\n          result => console.log('Has permission?', result.hasPermission),\n          err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION)\n        );\n        this.grantRequest();\n      } else if (this.platform.is('ios')) {\n        this.grantRequest();\n      } else {\n        this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 10000, enableHighAccuracy: false }).then((resp) => {\n          if (resp) {\n            console.log('resp', resp);\n            this.lat = resp.coords.latitude;\n            this.lng = resp.coords.longitude;\n            this.loadmap(resp.coords.latitude, resp.coords.longitude, this.mapEle);\n            this.getAddress(this.lat, this.lng);\n          }\n        });\n      }\n    });\n  }\n\n  grantRequest() {\n    this.diagnostic.isLocationEnabled().then((data) => {\n      if (data) {\n        this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 10000, enableHighAccuracy: false }).then((resp) => {\n          if (resp) {\n            console.log('resp', resp);\n            this.loadmap(resp.coords.latitude, resp.coords.longitude, this.mapEle);\n            this.getAddress(resp.coords.latitude, resp.coords.longitude);\n          }\n        });\n      } else {\n        this.diagnostic.switchToLocationSettings();\n        this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 10000, enableHighAccuracy: false }).then((resp) => {\n          if (resp) {\n            console.log('ress,', resp);\n            this.loadmap(resp.coords.latitude, resp.coords.longitude, this.mapEle);\n            this.getAddress(resp.coords.latitude, resp.coords.longitude);\n          }\n        });\n      }\n    }, error => {\n      // console.log('errir', error);\n    }).catch(error => {\n      // console.log('error', error);\n    });\n\n  }\n\n  loadmap(lat, lng, mapElement) {\n    const location = new google.maps.LatLng(lat, lng);\n    const style = [\n      {\n        featureType: 'all',\n        elementType: 'all',\n        stylers: [\n          { saturation: -100 }\n        ]\n      }\n    ];\n\n    const mapOptions = {\n      zoom: 15,\n      scaleControl: false,\n      streetViewControl: false,\n      zoomControl: false,\n      overviewMapControl: false,\n      center: location,\n      mapTypeControl: false,\n      mapTypeControlOptions: {\n        mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'Foodfire5']\n      }\n    };\n    this.map = new google.maps.Map(mapElement.nativeElement, mapOptions);\n    var mapType = new google.maps.StyledMapType(style, { name: 'Grayscale' });\n    this.map.mapTypes.set('Foodfire5', mapType);\n    this.map.setMapTypeId('Foodfire5');\n    this.addMarker(location);\n  }\n\n  getAddress(lat, lng) {\n    const geocoder = new google.maps.Geocoder();\n    const location = new google.maps.LatLng(lat, lng);\n    geocoder.geocode({ 'location': location }, (results, status) => {\n      console.log(results);\n      this.address = results[0].formatted_address;\n      this.lat = lat;\n      this.lng = lng;\n    });\n  }\n\n  addMarker(location) {\n    console.log('location =>', location)\n    const icon = {\n      url: 'assets/icon/marker.png',\n      scaledSize: new google.maps.Size(50, 50), // scaled size\n    }\n    this.marker = new google.maps.Marker({\n      position: location,\n      map: this.map,\n      icon: icon,\n      draggable: true,\n      animation: google.maps.Animation.DROP\n    })\n\n    google.maps.event.addListener(this.marker, 'dragend', () => {\n      console.log(this.marker);\n      this.getDragAddress(this.marker);\n    });\n\n  }\n\n  getDragAddress(event) {\n\n    const geocoder = new google.maps.Geocoder();\n    const location = new google.maps.LatLng(event.position.lat(), event.position.lng());\n    geocoder.geocode({ 'location': location }, (results, status) => {\n      console.log(results);\n      this.address = results[0].formatted_address;\n      this.lat = event.position.lat();\n      this.lng = event.position.lng();\n    });\n  }\n  submit() {\n    localStorage.setItem('newAddress', this.address);\n    localStorage.setItem('newLng', this.lng);\n    localStorage.setItem('newLat', this.lat);\n    this.navCtrl.back();\n  }\n  addAddress() {\n    if (this.address === '' || this.landmark === '' || this.house === '') {\n      this.util.errorToast(this.util.translate('All Fields are required'));\n      return false;\n    }\n    console.log('call api');\n    this.util.show();\n    this.api.checkAuth().then((data: any) => {\n      console.log(data);\n\n      if (data) {\n        const id = this.util.makeid(10);\n        const param = {\n          id: id,\n          uid: data.uid,\n          address: this.address,\n          lat: this.lat,\n          lng: this.lng,\n          title: this.title,\n          house: this.house,\n          landmark: this.landmark\n        };\n        this.api.addNewAddress(data.uid, id, param).then((data) => {\n          this.util.hide();\n          this.util.showToast(this.util.translate('succesfully added address'), 'success', 'bottom');\n          this.navCtrl.back();\n        }, error => {\n          this.util.hide();\n          console.log(error);\n          this.util.errorToast(this.util.translate('Something went wrong'));\n        }).catch(error => {\n          this.util.hide();\n          console.log(error);\n          this.util.errorToast(this.util.translate('Something went wrong'));\n        });\n      } else {\n        this.util.hide();\n        this.util.errorToast(this.util.translate('Something went wrong'));\n        this.navCtrl.navigateRoot(['tabs']);\n      }\n    }, error => {\n      this.util.hide();\n      console.log(error);\n      this.util.errorToast(this.util.translate('Something went wrong'));\n      this.navCtrl.navigateRoot(['tabs']);\n    }).catch(error => {\n      this.util.hide();\n      console.log(error);\n      this.util.errorToast(this.util.translate('Something went wrong'));\n      this.navCtrl.navigateRoot(['tabs']);\n    });\n  }\n\n  updateAddress() {\n    if (this.address === '' || this.landmark === '' || this.house === '') {\n      this.util.errorToast(this.util.translate('All Fields are required'));\n      return false;\n    }\n    const param = {\n      id: this.id,\n      uid: localStorage.getItem('uid'),\n      address: this.address,\n      lat: this.lat,\n      lng: this.lng,\n      title: this.title,\n      house: this.house,\n      landmark: this.landmark\n    };\n    this.util.show();\n    this.api.updateAddress(localStorage.getItem('uid'), this.id, param).then((data) => {\n      this.util.hide();\n      this.util.showToast('Address updated', 'success', 'bottom');\n      this.navCtrl.back();\n    }).catch(error => {\n      this.util.hide();\n      console.log('error', error);\n      this.util.errorToast(this.util.translate('Something went wrong'));\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddNewAddressPageRoutingModule } from './add-new-address-routing.module';\n\nimport { AddNewAddressPage } from './add-new-address.page';\nimport { SharedModule } from 'src/app/directives/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddNewAddressPageRoutingModule,\n    SharedModule\n  ],\n  declarations: [AddNewAddressPage]\n})\nexport class AddNewAddressPageModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddNewAddressPage } from './add-new-address.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddNewAddressPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddNewAddressPageRoutingModule {}\n"]}